# Git

## Что такое index (staging area)?

Область подготовленных файлов (`staging area`) — это обычный файл, обычно хранящийся в каталоге Git, который содержит информацию о том, что должно войти в 
следующий коммит. Иногда его называют индексом (`index`), но в последнее время становится стандартом называть его областью подготовленных файлов. 
Область подготовленных файлов это уже не рабочий каталог, но ещё и не коммит.

## Перезаписать локальные файлы во время git pull

- `git fetch --all`
- `git reset --hard origin/master`

## Восстановить удалённый файл

1. Найти файл:
`git rev-list -n 1 HEAD -- имя_файла`

2. Восстановить файл:
`git checkout найденный_коммит^ -- имя_файла`

## Некоторые полезные команды

- `git branch --merged` - показывает список веток вмерженых в `HEAD`
- `git branch --no-merged` - показывает список веток не вмерженых в `HEAD`
- `git branch --d [head]` - удалить ветку
- `git branch -m oldname newname` - Переименовать локальную ветку


- `git clean -f -d` - Удалить все локальные файлы и директории, которые не отслеживает Git, из вашей текущей копии

- `git checkout -- .` - Отменить все изменения, кроме тех, что уже добавлены в планируемый коммит
- `git checkout идентификатор_коммита имя_файла` - Вернуть один конкретный файл в состояние, в котором он был в каком-либо коммите
- `git checkout master^` - Переключение `HEAD` на 1 коммит назад от мастера
- `git checkout master~3`	- Переключение `HEAD` на 3 коммита назад от мастера

- `git branch -f master хэшКоммита` -	Форс переключение указателя ветки на конкретный коммит
		
- `git reset` - восстанавливает рабочую директорию до состояния последнего коммита
- `git reset HEAD~1` - Вернуть `HEAD` на 1 коммит назад (текущего комета больше не будет)

- `git revert HEAD`	Обратные изменения для коммита, на который указывает `HEAD`
- `git revert хэшКоммита`	- Реверт конкретного коммита
		
- `git rebase -i test`- Интерактивный ребейс в ветку `test`. То есть мы возьмем дельта комитов `HEAD` и `test` и выберем какие именно коммиты и в каком порядке
переместим с `HEAD` в `test`. Затем перенесем `HEAD` в результат ребейса
		
- `git tag v1 хэшКоммита` -	Пометить тегом конкретный коммит

- `git describe хэшКоммита`
- `git describe master`	- Теги являются прекрасными ориентирами в истории изменений, поэтому в `git` есть команда, которая показывает, как далеко текущее
состоянии от ближайшего тега. И эта команда называется `git describe`

## Полезные ссылки

[Самые типичные ошибки и вопросы, связанные с Git, и удобные способы их решения - tproger](https://tproger.ru/translations/most-common-git-screwupsquestions-and-solutions/)

[Руководство по rebase - git-scm](https://git-scm.com/book/ru/v2/%D0%92%D0%B5%D1%82%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B2-Git-%D0%9F%D0%B5%D1%80%D0%B5%D0%B1%D0%B0%D0%B7%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)

[Git Rebase: руководство по использованию - habr](https://habr.com/ru/post/161009/)

[Полезные git команды с визуализацией - dev.to](https://dev.to/lydiahallie/cs-visualized-useful-git-commands-37p1)
