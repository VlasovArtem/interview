<!-- TOC -->
* [SSL](#ssl)
  * [Зачем нужен SSL-сертификат](#зачем-нужен-ssl-сертификат)
  * [Принцип работы SSL-шифрования](#принцип-работы-ssl-шифрования)
  * [Как браузер и сервер устанавливают безопасное соединение](#как-браузер-и-сервер-устанавливают-безопасное-соединение)
  * [Полезные ссылки](#полезные-ссылки)
<!-- TOC -->

# SSL

`SSL` (`secure sockets layer` — уровень защищённых cокетов) представляет собой криптографический протокол для безопасной связи. С версии `3.0` `SSL` заменили 
на `TLS` (`transport layer security` — безопасность транспортного уровня), но название предыдущей версии прижилось, поэтому сегодня под `SSL` чаще всего 
подразумевают `TLS`.

Цель протокола — обеспечить защищенную передачу данных. При этом для аутентификации используются **асимметричные алгоритмы шифрования** (пара `открытый — 
закрытый ключ`), а для сохранения конфиденциальности — **симметричные** (`секретный ключ`). Первый тип шифрования более ресурсоемкий, поэтому его комбинация с 
симметричным алгоритмом помогает сохранить высокую скорость обработки данных.

## Зачем нужен SSL-сертификат

В браузере перед адресами одних сайтов отображаются буквы `HTTP`, а перед другими — `HTTPS`. Обе аббревиатуры обозначают одно и то же: протокол передачи данных 
в интернете. Протокол — это набор правил, который определяет, как браузер и сервер обмениваются данными, какие бывают данные и что с ними делать.

![Screenshot](../../resources/httpVsHttps.png)

- `HTTP` — обычный протокол, он работает по умолчанию. Вы вводите на сайте личную информацию, а браузер передаёт её на сервер в открытом виде.
- `HTTPS` — защищённая версия `HTTP`. Это `SSL`-протокол, который активируется после установки `SSL`-сертификата и зашифровывает личную информацию, перед тем 
как передать её владельцу сайта.

Представьте, что планируете отпуск и покупаете билеты на самолёт на сайте авиакомпании. Чтобы оплатить заказ, вы вводите детали банковской карты. Этого не 
видно, но браузер передаёт эти детали серверу. Если сообщение перехватят злоумышленники, они узнают детали карты и смогут расплачиваться ею в интернете.

Чтобы этого не произошло, проверяйте, есть ли на сайте `SSL`-сертификат. Даже если мошенники перехватят ваши данные на сайте с сертификатом, они увидят только 
случайный набор символов.

Разберемся, как работает `SSL`-сертификат, и рассмотрим принцип работы `HTTPS`-соединения.

## Принцип работы SSL-шифрования

В основе любого метода шифрования лежит ключ. `Ключ` — это способ зашифровать или расшифровать сообщение. В работе `SSL`-сертификата участвуют три ключа: 
публичный, приватный и сеансовый (для сессии).

![Screenshot](../../resources/ssl4.png)

Публичный и приватный ключи генерируются один раз при создании запроса на выпуск сертификата. Поэтому приватный ключ нужно хранить осторожно. Если ключ попадёт 
в руки другому человеку, он сможет расшифровывать сообщения, а вам придётся переустанавливать сертификат.

![Screenshot](../../resources/ssl2.jpg)

Шифрование с двумя разными ключами называют `асимметричным`. Использовать такой метод более безопасно, но медленно. Поэтому браузер и сервер используют его 
один раз: чтобы создать сеансовый ключ.

![Screenshot](../../resources/ssl3.jpg)

Шифрование с одним ключом называют `симметричным`. Этот метод удобен, но не так безопасен. Поэтому браузер и делает уникальный ключ для каждого сеанса вместо 
того, чтобы хранить его на сервере.

## Как браузер и сервер устанавливают безопасное соединение

Браузер и сервер устанавливают `SSL`-соединение каждый раз, когда пользователь заходит на сайт. Это занимает несколько секунд во время загрузки сайта. По-
английски процесс называется `handshake`. Это означает «`рукопожатие`».

Когда вы вводите адрес сайта в браузере, он спрашивает у сервера, установлен ли для сайта сертификат. В ответ сервер отправляет общую информацию об `SSL`-
сертификате и публичный ключ. Браузер сверяет информацию со списком авторизованных центров сертификации. Такой список есть во всех популярных браузерах. Если 
всё в порядке, браузер генерирует сеансовый ключ, зашифровывает его публичным ключом и отправляет на сервер. Сервер расшифровывает сообщение и сохраняет 
сеансовый ключ. После этого между браузером и сайтом устанавливается безопасное соединение через протокол `HTTPS`.

Процесс можно сравнить со звонком в домофон. Когда вы слышите звонок, спрашиваете кто пришел. Скорее всего, вы не откроете дверь, пока не убедитесь, что это 
ваш знакомый. У `SSL`-сертификата похожий принцип работы: браузер не настроит безопасное соединение с сайтом, пока не убедится, что сертификат не поддельный.

Рассмотрим, как работает `HTTPS`-соединение на схеме:

![Screenshot](../../resources/ssl5.png)

## Полезные ссылки

[Как работает SSL-сертификат - ssl.com.ua](https://ssl.com.ua/info/how-ssl-works/)
