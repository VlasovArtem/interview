<!-- TOC -->
* [Scoping в Python](#scoping-в-python)
  * [Введение](#введение)
  * [Built-in Scope](#built-in-scope)
    * [Примеры Built-in Scope](#примеры-built-in-scope)
  * [Global Scope](#global-scope)
    * [Примеры Global Scope](#примеры-global-scope)
  * [Enclosing Scope](#enclosing-scope)
    * [Примеры Enclosing Scope](#примеры-enclosing-scope)
  * [Local Scope](#local-scope)
    * [Примеры Local Scope](#примеры-local-scope)
  * [Иерархия поиска переменных (LEGB)](#иерархия-поиска-переменных-legb)
    * [Примеры LEGB](#примеры-legb)
  * [Ключевое слово `global`](#ключевое-слово-global)
    * [Примеры использования `global`](#примеры-использования-global)
  * [Ключевое слово `nonlocal`](#ключевое-слово-nonlocal)
    * [Примеры использования `nonlocal`](#примеры-использования-nonlocal)
<!-- TOC -->

# Scoping в Python

## Введение

Scoping в Python определяет область видимости переменных. В зависимости от области видимости переменные могут быть доступны в разных частях программы. В Python существуют четыре основных типа областей видимости:

- Built-in Scope (встроенная область видимости)
- Global Scope (глобальная область видимости)
- Enclosing Scope (область видимости охватывающих функций)
- Local Scope (локальная область видимости)

## Built-in Scope

Built-in Scope включает все встроенные в Python функции и переменные, такие как `print`, `len`, `int` и другие. Эти объекты доступны в любом месте программы без необходимости их определения или импорта.

### Примеры Built-in Scope

```python
print("Hello, World!")  # Использование встроенной функции print

x = 5
y = str(x)  # Использование встроенной функции str для преобразования числа в строку
```

## Global Scope

Global Scope охватывает переменные, объявленные на уровне модуля (файла). Эти переменные доступны во всем модуле и могут быть доступны из функций, определенных в этом модуле.

### Примеры Global Scope

```python
x = 10  # Переменная в глобальной области видимости

def foo():
    print(x)  # Доступ к глобальной переменной внутри функции

foo()  # Вывод: 10
```

## Enclosing Scope

Enclosing Scope относится к области видимости внешних функций по отношению к вложенным функциям. Переменные, определенные во внешней функции, доступны во вложенных функциях.

### Примеры Enclosing Scope

```python
def outer_function():
    y = 20  # Переменная в области видимости внешней функции

    def inner_function():
        print(y)  # Доступ к переменной внешней функции внутри вложенной функции

    inner_function()

outer_function()  # Вывод: 20
```

## Local Scope

Local Scope включает переменные, определенные внутри функции. Эти переменные доступны только в пределах этой функции и не видны за ее пределами.

### Примеры Local Scope

```python
def my_function():
    z = 30  # Локальная переменная
    print(z)

my_function()  # Вывод: 30
# print(z)  # Ошибка: переменная z не доступна за пределами функции
```

## Иерархия поиска переменных (LEGB)

Python использует иерархию LEGB (Local, Enclosing, Global, Built-in) для поиска переменных. Если переменная не найдена в текущей области видимости, поиск продолжается в следующей области в порядке LEGB.

### Примеры LEGB

```python
x = "global"

def outer():
    x = "enclosing"

    def inner():
        x = "local"
        print(x)  # Поиск переменной начинается с локальной области

    inner()

outer()  # Вывод: local
```

## Ключевое слово `global`

Ключевое слово `global` используется для изменения глобальной переменной внутри функции. Без этого ключевого слова любые присваивания внутри функции создают локальную переменную.

### Примеры использования `global`

```python
x = 50

def change_global():
    global x
    x = 100  # Изменение глобальной переменной

change_global()
print(x)  # Вывод: 100
```

## Ключевое слово `nonlocal`

Ключевое слово `nonlocal` используется для изменения переменной из enclosing scope внутри вложенной функции. Это полезно, когда нужно изменить переменную, находящуюся в области видимости охватывающей функции.

### Примеры использования `nonlocal`

```python
def outer_function():
    y = 20

    def inner_function():
        nonlocal y
        y = 30  # Изменение переменной enclosing scope
        print(y)

    inner_function()
    print(y)  # Переменная y изменена

outer_function()
# Вывод:
# 30
# 30
```